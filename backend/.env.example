# ===========================================
# ENVIRONMENT CONFIGURATION
# ===========================================
# Set to 'production' for deployment
NODE_ENV=development

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=bosowa
DB_PASSWORD=super-secret-password
DB_PASS=super-secret-password
DB_NAME=letterdb

# ===========================================
# SECURITY CONFIGURATION (IMPORTANT!)
# ===========================================
# JWT Secret - WAJIB diganti untuk production!
# Generate dengan: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Minimal 64 karakter random untuk keamanan optimal
JWT_SECRET=super-secret-jwt-CHANGE-THIS-IN-PRODUCTION

# ===========================================
# APPLICATION URLs
# ===========================================
APP_BASE_URL=http://localhost:3000
# WAJIB diset di production! Comma-separated untuk multiple origins
# Contoh: https://yourdomain.com,https://www.yourdomain.com
FRONTEND_URL=http://localhost:5173

# ===========================================
# BACKUP/RESTORE (Optional)
# ===========================================
# Auto-detect untuk aaPanel Linux, set manual jika berbeda
# MYSQLDUMP_PATH=/www/server/mysql/bin/mysqldump
# MYSQL_PATH=/www/server/mysql/bin/mysql

# ===========================================
# GOOGLE CLOUD VISION API (OCR)
# ===========================================
# Pilih salah satu metode autentikasi:
# 1. Service Account (recommended) - download JSON dari Google Cloud Console
GOOGLE_APPLICATION_CREDENTIALS=
# 2. API Key - buat di Google Cloud Console > APIs & Services > Credentials
GOOGLE_VISION_API_KEY=

# ===========================================
# AI EXTRACTION (Parsing OCR Results)
# ===========================================
# Groq (recommended, gratis) - https://console.groq.com/keys
GROQ_API_KEY=

# ===========================================
# BACKGROUND JOBS (OCR Queue)
# ===========================================
# Redis is required for background OCR jobs.
# Prefer REDIS_URL (recommended) or set host/port/password.
REDIS_URL=
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# Enable/disable in-process OCR worker (recommended true for single instance).
OCR_WORKER_ENABLED=true
# Limit OCR concurrency to keep server responsive.
OCR_WORKER_CONCURRENCY=1

# OCR JOB SETTINGS (Optional)
# Max duration per OCR job (BullMQ timeout), keep in sync with frontend polling timeout.
OCR_JOB_TIMEOUT_MS=120000

# PDF OCR LIMITS (Optional)
# Guardrails to prevent very large PDFs from exhausting server resources.
PDF_OCR_MAX_PAGES=25
# How many pages can be OCR'd in parallel (per job).
PDF_OCR_PAGE_CONCURRENCY=2
# Max characters returned in ocrRawText response (will be truncated).
OCR_RAW_TEXT_MAX_CHARS=20000

# OCR PREVIEW CACHE (Optional)
# Cache OCR preview results in-memory (per backend instance) for N seconds.
OCR_PREVIEW_CACHE_TTL_SECONDS=600
